<div class="redefine-dialog">
  <h1 class="dialog-head">产品设置列表</h1>
  <mat-icon class="add-icon" (click)="addProductSet()">add</mat-icon>
  <ngx-datatable class="material striped"
                 *ngIf="isPermission === 1"
                 [loadingIndicator]="loadingIndicator"
                 [rows]="sysSettingData"
                 [headerHeight]="40"
                 [footerHeight]="40"
                 [rowHeight]="40"
                 [columnMode]="'force'"
                 [scrollbarH]="true"
                 [limit]="params.pageSize">
    <ngx-datatable-column [name]="'ID'" [prop]="'id'"></ngx-datatable-column>
    <ngx-datatable-column [name]="'产品Id'" [prop]="'productId'"></ngx-datatable-column>
    <ngx-datatable-column [name]="'设置名'" [prop]="'name'"></ngx-datatable-column>
    <ngx-datatable-column [name]="'设置值'" [prop]="'value'"></ngx-datatable-column>
    <ngx-datatable-column [name]="'设置的属性'" [prop]="'property'"></ngx-datatable-column>
    <ngx-datatable-column [name]="'描述'" [prop]="'description'"></ngx-datatable-column>
    <ngx-datatable-column [name]="'创建时间'">
      <ng-template let-row="row" ngx-datatable-cell-template>{{row?.createTime | dateFormat:'YYYY-MM-DD HH:mm:ss'}}</ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column [name]="'操作'">
      <ng-template let-row="row" let-rowIndex="rowIndex" ngx-datatable-cell-template>
        <!--<div (click)="operateButton(row, rowIndex)" class="editMatIcon"></div>-->
        <span [matMenuTriggerFor]="menu" style="cursor: pointer">
            <mat-icon class="md-24" style="font-size: 16px;">more_vert</mat-icon>
          </span>
        <mat-menu #menu="matMenu">
          <button mat-menu-item *ngFor="let item of [{value:0,name:'编辑'},{value:1,name:'删除'}]"
                  [value]="item.value" (click)="operateButton(item.value, row, rowIndex)">{{item.name}}</button>
        </mat-menu>
      </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-footer>
      <ng-template ngx-datatable-footer-template>
        <app-pagination [pageParams]="params" [comTotalCount]="totalCount"
                        (limitChange)="getLimit($event)"
                        (pageParamsChange)="reloadSysProductSetCount($event)"></app-pagination>
      </ng-template>
    </ngx-datatable-footer>
  </ngx-datatable>
  <app-empty-data *ngIf="isPermission === 0"></app-empty-data>
</div>

